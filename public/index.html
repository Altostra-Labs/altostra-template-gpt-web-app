<!DOCTYPE html>
<html lang="en">

  <head>
    <title>GPT Web App</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" sizes="16x16" href="https://www.altostra.com/favicon-16x16.png" />
    <script src="./api.js" type="module"></script>
    <script src="./server.js" type="module"></script>
    <script src="./chat.js" type="module"></script>

    <script type="module">
      import { loadAll, onKeyUp } from './chat.js'
  
      document.addEventListener('DOMContentLoaded', async () => {
        Object.assign(window, {  onKeyUp  })
  
        await loadAll().catch(console.error)
      })
    </script>

  </head>

  <body>
    <div class="overlay">
      <div class="loader">
        <div class="spinner"></div>
      </div>
    </div>

    <div class="connect-dialog">
      <p class="connect-info">
        Please insert an OpenAI API KEY.<br>
        The key will be securely saved under your AWS account in the SSM parameter store.<br>
        To create an OpenAI API KEY, follow these
        <a href="https://platform.openai.com/docs/guides/production-best-practices/api-keys" target="_blank">instructions</a>.
      </p>
      <form class="connect-form">
        <input type="text" class="input-field apiKey-field" placeholder="OpenAI API KEY" onkeyup="onKeyUp('apiKey')"/>
        <button class="btn connect-btn" type="submit" disabled>Connect</button>
      </form>
    </div>

      <div class="chat-header">
        <h1>GPT-3 Powered Application</h1>
        <p>
          Deployed and managed by 
          <a href="https://altostra.com" target="_blank" rel="noopener noreferrer">
            <img 
              alt="logo"
              src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTM3IiBoZWlnaHQ9IjE4IiB2aWV3Qm94PSIwIDAgMTM3IDE4IiBmaWxsPSIjNWY1ZmY2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMy43MjUgMThIMC40NzVMNi40IDNDNi43MTY2NyAyLjIgNy4xNTgzMyAxLjY0MTY3IDcuNzI1IDEuMzI1QzguMzA4MzMgMC45OTE2NjYgOS4wNSAwLjgyNDk5OSA5Ljk1IDAuODI0OTk5QzEwLjgzMzMgMC44MjQ5OTkgMTEuNTU4MyAwLjk5MTY2NiAxMi4xMjUgMS4zMjVDMTIuNzA4MyAxLjY0MTY3IDEzLjE1IDIuMiAxMy40NSAzTDE5LjE1IDE4SDE1Ljg3NUwxMC43NSA0LjQyNUMxMC42IDQuMDQxNjcgMTAuMzI1IDMuODUgOS45MjUgMy44NUM5LjUyNSAzLjg1IDkuMjQxNjcgNC4wNDE2NyA5LjA3NSA0LjQyNUwzLjcyNSAxOFpNMjMuNDI4NSAxLjEyNVYxMi4xNUMyMy40Mjg1IDEyLjU1IDIzLjQ3ODUgMTIuOTMzMyAyMy41Nzg1IDEzLjNDMjMuNjk1MiAxMy42NSAyMy44ODY4IDEzLjk1ODMgMjQuMTUzNSAxNC4yMjVDMjQuNDIwMiAxNC40NzUgMjQuNzcwMiAxNC42NzUgMjUuMjAzNSAxNC44MjVDMjUuNjUzNSAxNC45NzUgMjYuMjExOCAxNS4wNSAyNi44Nzg1IDE1LjA1SDMzLjQyODVWMThIMjYuNzAzNUMyNS41ODY4IDE4IDI0LjYyODUgMTcuODU4MyAyMy44Mjg1IDE3LjU3NUMyMy4wNDUyIDE3LjI3NSAyMi40MDM1IDE2Ljg2NjcgMjEuOTAzNSAxNi4zNUMyMS40MDM1IDE1LjgzMzMgMjEuMDM2OCAxNS4yMjUgMjAuODAzNSAxNC41MjVDMjAuNTg2OCAxMy44MDgzIDIwLjQ3ODUgMTMuMDI1IDIwLjQ3ODUgMTIuMTc1VjEuMTI1SDIzLjQyODVaTTQ3LjcwNTMgMS4xMjVWNC4wNzVINDIuNzgwM1YxOEgzOS44MDUzVjQuMDc1SDM0Ljg4MDNWMS4xMjVINDcuNzA1M1pNNTkuMjk5MiAxLjEyNUM2MS43NjU5IDEuMTI1IDYzLjY0OTIgMS44MjUgNjQuOTQ5MiAzLjIyNUM2Ni4yNjU5IDQuNjI1IDY2LjkyNDIgNi43NSA2Ni45MjQyIDkuNkM2Ni45MjQyIDEyLjQzMzMgNjYuMjY1OSAxNC41NDE3IDY0Ljk0OTIgMTUuOTI1QzYzLjY0OTIgMTcuMzA4MyA2MS43NjU5IDE4IDU5LjI5OTIgMThINTYuOTk5MkM1NC41MzI2IDE4IDUyLjY0MDkgMTcuMzA4MyA1MS4zMjQyIDE1LjkyNUM1MC4wMjQyIDE0LjU0MTcgNDkuMzc0MiAxMi40MzMzIDQ5LjM3NDIgOS42QzQ5LjM3NDIgNi43NSA1MC4wMjQyIDQuNjI1IDUxLjMyNDIgMy4yMjVDNTIuNjQwOSAxLjgyNSA1NC41MzI2IDEuMTI1IDU2Ljk5OTIgMS4xMjVINTkuMjk5MlpNNTYuOTk5MiA0LjA3NUM1NS4zNjU5IDQuMDc1IDU0LjE3NDIgNC41MDgzMyA1My40MjQyIDUuMzc1QzUyLjY5MDkgNi4yNDE2NyA1Mi4zMjQyIDcuNjUgNTIuMzI0MiA5LjZDNTIuMzI0MiAxMS41MzMzIDUyLjY5MDkgMTIuOTI1IDUzLjQyNDIgMTMuNzc1QzU0LjE1NzYgMTQuNjI1IDU1LjM0OTIgMTUuMDUgNTYuOTk5MiAxNS4wNUg1OS4yOTkyQzYwLjkxNTkgMTUuMDUgNjIuMDkwOSAxNC42MjUgNjIuODI0MiAxMy43NzVDNjMuNTc0MiAxMi45MDgzIDYzLjk0OTIgMTEuNTA4MyA2My45NDkyIDkuNTc1QzYzLjk0OTIgNy42NDE2NyA2My41ODI2IDYuMjQxNjcgNjIuODQ5MiA1LjM3NUM2Mi4xMTU5IDQuNTA4MzMgNjAuOTMyNiA0LjA3NSA1OS4yOTkyIDQuMDc1SDU2Ljk5OTJaTTgzLjQzNDQgMS4xMjVWNC4wNzVINzQuNzg0NEM3NC4wMTc3IDQuMDc1IDczLjQ1OTQgNC4yNjY2NyA3My4xMDk0IDQuNjVDNzIuNzU5NCA1LjAxNjY3IDcyLjU4NDQgNS40OTE2NyA3Mi41ODQ0IDYuMDc1QzcyLjU4NDQgNi4zMjUgNzIuNjE3NyA2LjU3NSA3Mi42ODQ0IDYuODI1QzcyLjc2NzcgNy4wNTgzMyA3Mi45MDEgNy4yNzUgNzMuMDg0NCA3LjQ3NUM3My4yODQ0IDcuNjU4MzMgNzMuNTQyNyA3LjgwODMzIDczLjg1OTQgNy45MjVDNzQuMTc2IDguMDI1IDc0LjU4NDQgOC4wNzUgNzUuMDg0NCA4LjA3NUg3OS4wMzQ0QzgwLjE4NDQgOC4wNzUgODEuMTI2IDguMjI1IDgxLjg1OTQgOC41MjVDODIuNTkyNyA4LjgwODMzIDgzLjE2NzcgOS4xODMzMyA4My41ODQ0IDkuNjVDODQuMDE3NyAxMC4xMTY3IDg0LjMwOTQgMTAuNjUgODQuNDU5NCAxMS4yNUM4NC42MjYgMTEuODUgODQuNzA5NCAxMi40NSA4NC43MDk0IDEzLjA1Qzg0LjcwOTQgMTMuNzY2NyA4NC42MDk0IDE0LjQyNSA4NC40MDk0IDE1LjAyNUM4NC4yMDk0IDE1LjYyNSA4My44OTI3IDE2LjE1IDgzLjQ1OTQgMTYuNkM4My4wMjYgMTcuMDMzMyA4Mi40Njc3IDE3LjM3NSA4MS43ODQ0IDE3LjYyNUM4MS4xMTc3IDE3Ljg3NSA4MC4zMDEgMTggNzkuMzM0NCAxOEg2OS45MzQ0VjE1LjA1SDc5LjQzNDRDODAuMjM0NCAxNS4wNSA4MC44MTc3IDE0Ljg1ODMgODEuMTg0NCAxNC40NzVDODEuNTY3NyAxNC4wNzUgODEuNzU5NCAxMy41NjY3IDgxLjc1OTQgMTIuOTVDODEuNzU5NCAxMi42ODMzIDgxLjcxNzcgMTIuNDI1IDgxLjYzNDQgMTIuMTc1QzgxLjU1MSAxMS45MDgzIDgxLjQwOTQgMTEuNjgzMyA4MS4yMDk0IDExLjVDODEuMDA5NCAxMS4zIDgwLjczNDQgMTEuMTQxNyA4MC4zODQ0IDExLjAyNUM4MC4wNTEgMTAuOTA4MyA3OS42MjYgMTAuODUgNzkuMTA5NCAxMC44NUg3NS4xODQ0Qzc0LjA1MSAxMC44NSA3My4xMjYgMTAuNzA4MyA3Mi40MDk0IDEwLjQyNUM3MS42OTI3IDEwLjE0MTcgNzEuMTI2IDkuNzY2NjcgNzAuNzA5NCA5LjNDNzAuMzA5NCA4LjgzMzMzIDcwLjAyNiA4LjMwODMzIDY5Ljg1OTQgNy43MjVDNjkuNzA5NCA3LjE0MTY3IDY5LjYzNDQgNi41NTgzMyA2OS42MzQ0IDUuOTc1QzY5LjYzNDQgNS4yNzUgNjkuNzI2IDQuNjMzMzMgNjkuOTA5NCA0LjA1QzcwLjEwOTQgMy40NSA3MC40MTc3IDIuOTMzMzMgNzAuODM0NCAyLjVDNzEuMjY3NyAyLjA2NjY3IDcxLjgxNzcgMS43MzMzMyA3Mi40ODQ0IDEuNUM3My4xNTEgMS4yNSA3My45NTEgMS4xMjUgNzQuODg0NCAxLjEyNUg4My40MzQ0Wk05OC43MzA3IDEuMTI1VjQuMDc1SDkzLjgwNTdWMThIOTAuODMwN1Y0LjA3NUg4NS45MDU3VjEuMTI1SDk4LjczMDdaTTExMC42MTMgMS4xMjVDMTExLjU2MyAxLjEyNSAxMTIuMzggMS4yNjY2NyAxMTMuMDYzIDEuNTVDMTEzLjc0NiAxLjgxNjY3IDExNC4zMDUgMi4xODMzMyAxMTQuNzM4IDIuNjVDMTE1LjE4OCAzLjEgMTE1LjUxMyAzLjYzMzMzIDExNS43MTMgNC4yNUMxMTUuOTMgNC44NjY2NyAxMTYuMDM4IDUuNTA4MzMgMTE2LjAzOCA2LjE3NUMxMTYuMDM4IDYuNzA4MzMgMTE1Ljk3MSA3LjI0MTY3IDExNS44MzggNy43NzVDMTE1LjcwNSA4LjI5MTY3IDExNS40OTYgOC43ODMzMyAxMTUuMjEzIDkuMjVDMTE0LjkzIDkuNyAxMTQuNTYzIDEwLjEgMTE0LjExMyAxMC40NUMxMTMuNjYzIDEwLjggMTEzLjExMyAxMS4wNjY3IDExMi40NjMgMTEuMjVMMTE2LjM4OCAxOEgxMTMuMTEzTDEwOS4yNjMgMTEuNDc1SDEwNC44NjNDMTA0LjU4IDExLjQ3NSAxMDQuNDM4IDExLjYxNjcgMTA0LjQzOCAxMS45VjE4SDEwMS40ODhWMTEuMzI1QzEwMS40ODggMTAuMzc1IDEwMS42OTYgOS42OTE2NyAxMDIuMTEzIDkuMjc1QzEwMi41MyA4Ljg1ODMzIDEwMy4yMDUgOC42NSAxMDQuMTM4IDguNjVIMTEwLjcxM0MxMTEuMTMgOC42NSAxMTEuNDg4IDguNTgzMzMgMTExLjc4OCA4LjQ1QzExMi4wODggOC4zMTY2NyAxMTIuMzMgOC4xNDE2NyAxMTIuNTEzIDcuOTI1QzExMi42OTYgNy43MDgzMyAxMTIuODMgNy40NTgzMyAxMTIuOTEzIDcuMTc1QzExMy4wMTMgNi44OTE2NyAxMTMuMDYzIDYuNiAxMTMuMDYzIDYuM0MxMTMuMDYzIDUuNyAxMTIuODcxIDUuMTgzMzMgMTEyLjQ4OCA0Ljc1QzExMi4xMjEgNC4zIDExMS41MyA0LjA3NSAxMTAuNzEzIDQuMDc1SDEwMS40NjNWMS4xMjVIMTEwLjYxM1pNMTIxLjAzNSAxOEgxMTcuNzg1TDEyMy43MSAzQzEyNC4wMjYgMi4yIDEyNC40NjggMS42NDE2NyAxMjUuMDM1IDEuMzI1QzEyNS42MTggMC45OTE2NjYgMTI2LjM2IDAuODI0OTk5IDEyNy4yNiAwLjgyNDk5OUMxMjguMTQzIDAuODI0OTk5IDEyOC44NjggMC45OTE2NjYgMTI5LjQzNSAxLjMyNUMxMzAuMDE4IDEuNjQxNjcgMTMwLjQ2IDIuMiAxMzAuNzYgM0wxMzYuNDYgMThIMTMzLjE4NUwxMjguMDYgNC40MjVDMTI3LjkxIDQuMDQxNjcgMTI3LjYzNSAzLjg1IDEyNy4yMzUgMy44NUMxMjYuODM1IDMuODUgMTI2LjU1MSA0LjA0MTY3IDEyNi4zODUgNC40MjVMMTIxLjAzNSAxOFoiIC8+Cjwvc3ZnPgo='
            />
        </a>
        </p>
      </div>
      <div class="chat"></div>
      <div class="form-container">
        <form class="chat-form">
          <input type="text" class="input-field message-field" placeholder="Type a message..." onkeyup="onKeyUp('message')"/>
          <button class="btn send-message-btn" type="submit" disabled>Send</button>
        </form>
      </div>
  </body>

</html>


